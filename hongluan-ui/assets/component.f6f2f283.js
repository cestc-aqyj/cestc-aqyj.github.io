import{_ as u,n as f,e as a}from"./index.fedb9125.js";import{x as _}from"./hongluan.5b0660e6.js";import{H as n,o as i,C as v,a as b,x as g,D as s,v as l,M as S,Y as x}from"./vue.450bc1d0.js";import"./highlight.e2508551.js";import"./hongluan-icons.7d79c200.js";const B={data(){return{lang:this.$route.meta.lang,navsData:f,scrollTop:0,showHeader:!0,componentScrollBar:null,componentScrollBoxElement:null}},computed:{showBackToTop(){return!this.$route.path.match(/backtop/)}},watch:{"$route.path"(){}},created(){a.$on("nav-fade",o=>{this.navFaded=o})},mounted(){this.componentScrollBar=this.$refs.componentScrollBar,this.componentScrollBox=this.componentScrollBar.$el.querySelector(".scrollbar-wrap"),this.throttledScrollHandler=_(300,this.handleScroll),this.componentScrollBox.addEventListener("scroll",this.throttledScrollHandler),document.body.classList.add("is-component"),this.addContentObserver()},unmounted(){document.body.classList.remove("is-component")},beforeUnmount(){this.componentScrollBox.removeEventListener("scroll",this.throttledScrollHandler),this.observer.disconnect()},methods:{addContentObserver(){this.observer=new MutationObserver((o,e)=>{for(const t of o)t.type==="childList"&&(this.renderAnchorHref(),this.goAnchor())}),this.observer.observe(document.querySelector(".doc-page-content"),{childList:!0})},renderAnchorHref(){if(/changelog/g.test(location.href))return;const o=document.querySelectorAll("h2 a,h3 a,h4 a,h5 a"),e=location.href.split("#").splice(0,2).join("#");[].slice.call(o).forEach(t=>{const c=t.getAttribute("href");c.indexOf("#")===0&&(t.href=e+c)})},goAnchor(){if(location.href.match(/#/g).length>1){const o=location.href.match(/#[^#]+$/g);if(!o)return;const e=document.querySelector(o[0]);if(!e)return;setTimeout(()=>{this.componentScrollBox.scrollTop=e.offsetTop},50)}},handleScroll(){const o=this.componentScrollBox.scrollTop;this.showHeader!==this.scrollTop>o&&(this.showHeader=this.scrollTop>o),o===0&&(this.showHeader=!0),this.navFaded||a.$emit("fade-nav"),this.scrollTop=o}}},w={class:"doc-wrap fixed-sidebar fixed-header full-header"},T={class:"doc-main"},H={class:"doc-sidebar"},y={class:"doc-page-content"};function $(o,e,t,c,r,j){const h=n("main-header"),d=n("side-nav"),m=n("hl-scrollbar"),p=n("router-view");return i(),v(x,null,[r.lang!=="play"?(i(),b(h,{key:0})):g("",!0),s("div",w,[s("main",T,[s("aside",H,[l(m,{ref:"componentScrollBar"},{default:S(()=>[l(d,{data:r.navsData[r.lang],base:`/${r.lang}/component`},null,8,["data","base"])]),_:1},512)]),s("div",y,[l(p)])])])],64)}var k=u(B,[["render",$]]);export{k as default};
