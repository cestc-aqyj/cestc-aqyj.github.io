import{C as v,D as S}from"./hongluan.bb564fd4.js";import{_ as g,n as x}from"./index.4c73e209.js";import{Y as o,L as i,W as B,z as $,a as y,a2 as n,a0 as s,P as T}from"./vue.d40fa6f3.js";import"./highlight.e2508551.js";import"./hongluan-icons.ba2c1041.js";const t=v();t.$off=t.off;t.$on=t.on;t.$emit=t.emit;const w={data(){return{lang:this.$route.meta.lang,navsData:x,scrollTop:0,showHeader:!0,componentScrollBar:null,componentScrollBoxElement:null}},computed:{showBackToTop(){return!this.$route.path.match(/backtop/)}},watch:{"$route.path"(){}},created(){t.$on("nav-fade",e=>{this.navFaded=e})},mounted(){this.componentScrollBar=this.$refs.componentScrollBar,this.componentScrollBox=this.componentScrollBar.$el.querySelector(".scrollbar-wrap"),this.throttledScrollHandler=S(300,this.handleScroll),this.componentScrollBox.addEventListener("scroll",this.throttledScrollHandler),document.body.classList.add("is-component"),this.addContentObserver()},unmounted(){document.body.classList.remove("is-component")},beforeUnmount(){this.componentScrollBox.removeEventListener("scroll",this.throttledScrollHandler),this.observer.disconnect()},methods:{addContentObserver(){this.observer=new MutationObserver((e,r)=>{for(const l of e)l.type==="childList"&&(this.renderAnchorHref(),this.goAnchor())}),this.observer.observe(document.querySelector(".doc-content"),{childList:!0})},renderAnchorHref(){if(/changelog/g.test(location.href))return;const e=document.querySelectorAll("h2 a,h3 a,h4 a,h5 a"),r=location.href.split("#").splice(0,2).join("#");[].slice.call(e).forEach(l=>{const c=l.getAttribute("href");c.indexOf("#")===0&&(l.href=r+c)})},goAnchor(){if(location.href.match(/#/g).length>1){const e=location.href.match(/#[^#]+$/g);if(!e)return;const r=document.querySelector(e[0]);if(!r)return;setTimeout(()=>{this.componentScrollBox.scrollTop=r.offsetTop},50)}},handleScroll(){const e=this.componentScrollBox.scrollTop;this.showHeader!==this.scrollTop>e&&(this.showHeader=this.scrollTop>e),e===0&&(this.showHeader=!0),this.navFaded||t.$emit("fade-nav"),this.scrollTop=e}}};function H(e,r,l,c,a,L){const h=o("main-header"),d=o("side-nav"),m=o("hl-scrollbar"),u=o("hl-aside"),f=o("router-view"),p=o("hl-main"),_=o("hl-container"),b=o("hl-layout");return i(),B(T,null,[a.lang!=="play"?(i(),$(h,{key:0})):y("",!0),n(b,{boxed:!0,"fixed-aside":!0,"fixed-header":!0,"fixed-sub-header":!1,"full-header":!0,"full-sub-header":!1},{default:s(()=>[n(_,null,{default:s(()=>[n(u,null,{default:s(()=>[n(m,{ref:"componentScrollBar"},{default:s(()=>[n(d,{data:a.navsData[a.lang],base:`/${a.lang}`},null,8,["data","base"])]),_:1},512)]),_:1}),n(p,{class:"doc-content"},{default:s(()=>[n(f)]),_:1})]),_:1})]),_:1})],64)}var P=g(w,[["render",H]]);export{P as default};
